function whichTransitionEvent(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function toggleNav(){$("#show-menu").toggleClass("is-active"),"-300px"==$("#site").css("margin-left")?$("#site").css("margin-left","0"):$("#site").css("margin-left","-300px")}function togglePane(){$(".main-container").css("transition",transitionDuration),$(".pane-menu img").attr("src","resources/images/Fullscreen.png"),$(".pane-menu img").attr("alt","Full Screen");var a=!0;$("#single-image-button").prop("checked")&&$("#signs-button").prop("checked")?($("#single-image-container").css("width",horizontalDivide+"%"),$("#signs-container").css("width",100-horizontalDivide+"%"),$("#signs-container").css("margin-left",horizontalDivide+"%")):!$("#single-image-button").prop("checked")&&$("#signs-button").prop("checked")?($("#single-image-container").css("width","0"),$("#signs-container").css("width","100%"),$("#signs-container").css("margin-left","0")):$("#single-image-button").prop("checked")&&!$("#signs-button").prop("checked")?($("#single-image-container").css("width","100%"),$("#signs-container").css("width","0"),$("#signs-container").css("margin-left","100%")):$("#single-image-button").prop("checked")||$("#signs-button").prop("checked")||($("#single-image-container").css("width","0"),$("#signs-container").css("width","0"),$("#signs-container").css("margin-left","100%"),a=!1),$("#combination-button").prop("checked")?a?($("#single-image-container").css("height",verticalDivide+"%"),$("#signs-container").css("height",verticalDivide+"%"),$("#combination-container").css("height",100-verticalDivide+"%")):($("#single-image-container").css("height","0"),$("#signs-container").css("height","0"),$("#combination-container").css("height","100%")):a?($("#single-image-container").css("height","100%"),$("#signs-container").css("height","100%"),$("#combination-container").css("height","0")):($("#single-image-container").css("height","0"),$("#signs-container").css("height","0"),$("#combination-container").css("height","0")),$(".main-container").one(transitionEvent,function(a){$(".main-container").css("transition","none")})}function fullScreenToggle(a){$(".main-container").css("transition",transitionDuration),"Full Screen"==$(a.target).attr("alt")?(fullScreenPane(a),$(a.target).attr("src","resources/images/Close_Fullscreen.png"),$(a.target).attr("alt","resize")):(resizePanels("horizontal"),resizePanels("vertical"),$(a.target).attr("src","resources/images/Fullscreen.png"),$(a.target).attr("alt","Full Screen")),$(".main-container").one(transitionEvent,function(a){$(".main-container").css("transition","none")})}function fullScreenPane(a){var b=$(a.target).parent().parent().attr("id");"single-image-container"==b?($("#single-image-container").css("width","100%"),$("#signs-container").css("width","0"),$("#signs-container").css("margin-left","100%"),$("#single-image-container").css("height","100%"),$("#signs-container").css("height","100%"),$("#combination-container").css("height","0")):"signs-container"==b?($("#single-image-container").css("width","0"),$("#signs-container").css("width","100%"),$("#signs-container").css("margin-left","0"),$("#signs-container").css("height","100%"),$("#single-image-container").css("height","100%"),$("#combination-container").css("height","0")):"combination-container"==b&&($("#single-image-container").css("height","0"),$("#signs-container").css("height","0"),$("#combination-container").css("height","100%"))}function getCssWidth(a){return 100*$(a).width()/$(a).offsetParent().width()}function getCssHeight(a){return 100*$(a).height()/$(a).offsetParent().height()}function resizeHight(a){verticalDivide=a.clientY/$("#editing-panes").height()*100,resizePanels("vertical")}function resizeWidth(a){horizontalDivide=(a.clientX-$("#editing-panes").offset().left)/$("#editing-panes").width()*100,resizePanels("horizontal")}function resizePanels(a){"horizontal"==a&&horizontalDivide>5&&horizontalDivide<95&&($("#single-image-container").css("width",horizontalDivide+"%"),$("#signs-container").css("width",100-horizontalDivide+"%"),$("#signs-container").css("margin-left",horizontalDivide+"%")),"vertical"==a&&verticalDivide>5&&verticalDivide<95&&($("#single-image-container").css("height",verticalDivide+"%"),$("#signs-container").css("height",verticalDivide+"%"),$("#combination-container").css("height",100-verticalDivide+"%"))}var verticalDivide,horizontalDivide,transitionDuration=".6s ease all",transitionEvent=whichTransitionEvent();$(function(){verticalDivide=getCssHeight("#single-image-container"),horizontalDivide=getCssWidth("#single-image-container"),$(".toggle-nav").click(function(){toggleNav()}),$(".pane-button").prop("checked",!0),$(".pane-button").click(function(){togglePane()}),$(".pane-menu img").click(function(a){fullScreenToggle(a)}),$("#vertical-divider").mousedown(function(){$("#editing-panes").mousemove(function(a){resizeHight(a)}),$("#editing-panes").mouseup(function(){$("#editing-panes").off("mousemove"),$("#editing-panes").off("mouseup")})}),$("#horizontal-divider").mousedown(function(){$("#editing-panes").mousemove(function(a){resizeWidth(a)}),$("#editing-panes").mouseup(function(){$("#editing-panes").off("mousemove"),$("#editing-panes").off("mouseup")})})}),$(document).keyup(function(a){27==a.keyCode&&"0px"==$("#site").css("margin-left")&&($("#show-menu").toggleClass("is-active"),$("#site").css("margin-left","-300px"))});var infoJsonUrl="http://134.76.19.179/cgi-bin/iipsrv.fcgi?IIIF=P1096-Fg006-R-C01-R01-D25112012-T112913-LR445__ColorCalData_IAA_Both_CC110304_110702.ptif/info.json",infoJson;jQuery.getJSON(infoJsonUrl).done(function(a,b,c){OpenSeadragon({id:"single-image-view",preserveViewport:!0,visibilityRatio:1,minZoomLevel:1,defaultZoomLevel:1,sequenceMode:!1,tileSources:a,prefixUrl:"resources/images/",navigationControlAnchor:OpenSeadragon.ControlAnchor.BOTTOM_LEFT})});
